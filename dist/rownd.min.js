/*
 * rownd - v0.0.1 - 2015-12-20
 * By Jack Rimell - Copyright (c) 2015 Jack Rimell;
*/
!function(a){var b,c,d={},e={},f=function(){console&&console.error.apply&&console.error.apply(console,arguments)},g=function(a,b){return 0===a.indexOf(b)},h=function(a,b){return a.charAt(a.length-1)===b},i=function(a){return g(a,"/#!")?a=a.slice(3):g(a,"/#/")?a=a.slice(2):g(a,"#")&&(a=a.slice(1)),a.indexOf("#")>-1&&(a=a.split("#")[0]),a},j=function(a){for(var b in d)if(d.hasOwnProperty(b))return b===a?d[b]:!1},k=function(){var a=i(window.location.host.length>0?window.location.href.split(window.location.host)[1]:window.location.href);return a.length>1&&h(a,"/")&&(a=a.slice(0,-1)),a.split("?")[0]},l=function(){for(var a in d)d[a]&&d[a].active&&(d[a].active=!1)},m=function(){},n=function(a){b=c,c=a?a.split("?")[0]:k();var d=j(c);d?(l(),d.active=!0,m(d.controller)):(f("Cannot find current route"),l())},o=function(a,b){""===a&&(a="/"),a||f("Path value is missing from a route object"),b?0===b.length&&f("Controller value is empty in a route object"):f("Controller value is missing from a route object"),d[a]=b};a.createRoute=function(a){return o(a.path,a.controller)},a.createController=function(a,b){return e[a]=b,e[a]},a.routes=d,a.controllers=e;var p=!1,q=!1,r=function(){console.log("Initializing Rownd"),n()};document.addEventListener("DOMContentLoaded",function(){q||(r(),q=!0),p=!0}),p||document.addEventListener("readystatechange",function(){q||(r(),q=!0)},!1)}(this.Rownd=this.Rownd||{});