/*
 * rownd - v0.0.1 - 2015-12-21
 * By Jack Rimell - Copyright (c) 2015 Jack Rimell;
*/
!function(a){var b,c,d=[],e={},f=function(){console&&console.error.apply&&console.error.apply(console,arguments)},g=function(){console&&console.info.apply&&console.info.apply(console,arguments)},h=function(a,b){return 0===a.indexOf(b)},i=function(a,b){return a.charAt(a.length-1)===b},j=function(a){return h(a,"/#!")?a=a.slice(3):h(a,"/#/")?a=a.slice(2):h(a,"#")&&(a=a.slice(1)),a.indexOf("#")>-1&&(a=a.split("#")[0]),a},k=function(a){for(var b=d.length-1;b>=0;b--)if(d[b].path===a)return d[b];return!1},l=function(){var a=j(window.location.host.length>0?window.location.href.split(window.location.host)[1]:window.location.href);return a.length>1&&i(a,"/")&&(a=a.slice(0,-1)),a.split("?")[0]},m=function(){for(var a=d.length-1;a>=0;a--)d[a].active&&(d[a].active=!1)},n=function(a){a||f("Please specify a controller with your route")},o=function(a){b=c,c=a?a.split("?")[0]:l();var d=k(c);d?(m(),d.active=!0,n(d.controller)):(f("Cannot find current route"),m())},p=function(a,b){""===a&&(a="/"),a||f("Path value is missing from a route object"),b?0===b.length&&f("Controller value is empty in a route object"):f("Controller value is missing from a route object"),d.push({path:a,controller:b})};a.createRoute=function(a){return p(a.path,a.controller)},a.createController=function(a,b){return e[a]=b,e[a]},a.Helpers=function(){return{}},a.routes=d,a.controllers=e;var q=!1,r=!1,s=function(){g("Initializing Rownd"),o()};document.addEventListener("DOMContentLoaded",function(){r||(s(),r=!0),q=!0}),q||document.addEventListener("readystatechange",function(){r||(s(),r=!0)},!1)}(this.Rownd=this.Rownd||{});